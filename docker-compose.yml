# LAN Services
#
# [ntop](<https://github.com/ntop/docker-ntop>)
# - PF_RING
# - ntopng
# - nProbe

# Docker Compose version
version: '3'

services:
  ntopng-arm:
    build:
      context: ./ntopng
      dockerfile: Dockerfile.arm
    image: ntop/ntopng
    container_name: ntopng
    network_mode: host
    volumes:
      - /etc/ntopng:/etc/ntopng:ro
      - /var/lib/ntopng:/var/lib/ntopng
    healthcheck:
      test: curl --fail -s http://localhost:3000/ || exit 1
      interval: 5m
      timeout: 10s
      retries: 3
    command: ["/etc/ntopng/ntopng.conf"]
    restart: unless-stopped
